{%  extends "FDS_app/dashBase.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %} {{user.username }}:Dashboard - FDLS {% endblock title %}


{% block content2 %}

<div class="row order-3 p-4 bd-highlight">
    <div class="col-md-4">
        {% if messages %}
          <div class="messages p-3 container align-self-center">
              {% for message in messages %}
              <div {% if message.tags %} class=" alert alert-{{message.tags}} alert-dismissible fade show" role="alert" {% endif %}>{{ message }}</div>
              {% endfor %}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button> 
          </div>
       {% endif %}
    </div>


    <div class="col-md-4 d-flex justify-content-center "> 
        <div class=" card card-body shadow-sm rounded-lg" style="background-color: rgb(0, 106, 155);">   
                <!-- Button trigger modal -->
                <br>
                <div class="d-flex flex-row bd-highlight d-flex justify-content-center mb-3">
                  <div class="p-2 bd-highlight">
                    <div data-toggle="tooltip" data-placement="top" title="Make a Request for Dispacth Rider">
                      <button type="button" class=" btn btn-lg btn-outline-light p-1 mb-2"  data-toggle="modal" data-target="#MakeRequest">
                        Dispatch Request</button>
                    </div>
                  </div>

                  <div class="p-2 bd-highlight">
                    
                      <a  class="text-decoration-none" href="{% url 'shopping' user.id %}">
                        <button type="button" class="btn  btn-lg btn-outline-light p-1 mb-2"  data-toggle="tooltip" data-placement="top" title="Create your shopping list here.">Shopping Request 
                        </button>
                      </a>
                    
                  </div>
                </div>

                
               
            <!-- Modal -->
            <div class="modal fade" id="MakeRequest" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Choose Your Prefered Mode of Payment</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body align-self-center ">
                                <a class="btn btn-outline-danger"  href="{% url 'requestForm_Cash' user.id %}">Paying Cash</a>
                                <a class="btn btn-outline-danger"  href="{% url 'requestForm_Online' user.id %}">Paying Online </a>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </div>      
    <div class="col-md-4 align-content-center"></div>
</div>

<div class="container p-3">
    <div class="row d-flex flex-row bd-highlight mb-3">
      <div class="col-md-2 p-2 bd-highlight"></div>
        <div class="col-md-8 col-md-auto p-2 bd-highlight flex-shrink-1">
            <!--For online pending payment-->
            {% for i in pending1 %}
            <table class="table table-hover flex-shrink-1 table-borderless table-warning">
                <thead>
                  <tr>
                    
                    <th scope="col" class="text-danger">Pending Delivery</th>
                    <th scope="col ">Reciever Name</th>
                    <th scope="col">Address</th>
                    <th scope="col">Reciever Contact</th>
                    <th scope="col">Order ID</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>#</td>
                    <td>{{i.reciever_name}}</td>
                    <td>{{i.Address_of_reciever}}</td>
                    <td> {{i.reciever_phone_number}}</td>
                    <td> {{i.order_id}}</td>
                  </tr>
                </tbody>
              </table>
        {% endfor%}

        {% for i in pending2 %}
        <table class="table table-hover table-borderless table-warning">
            <thead>
              <tr>
                <th scope="col " class="text-danger">Pending Delivery</th>
                <th scope="col">Reciever Name</th>
                <th scope="col">Address of Reciever</th>
                <th scope="col">Reciever Contact</th>
                <th scope="col">Order ID</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>#</td>
                <td>{{i.reciever_name}}</td>
                <td>{{i.Address_of_reciever}}</td>
                <td> {{i.reciever_phone_number}}</td>
                <td> {{i.order_id}}</td>
              </tr>
            </tbody>
          </table>
        {% endfor%}


        {% for i in out_for_delivery %}
            <table class="table table-hover table-borderless table-info">
                <thead>
                  <tr>
                    <th scope="col" class="text-white">Out For Delivery</th>
                    <th scope="col">Reciever Name</th>
                    <th scope="col">Address</th>
                    <th scope="col">Reciever Contact</th>
                    <th scope="col">Order ID</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>#</td>
                    <td>{{i.reciever_name}}</td>
                    <td>{{i.Address_of_reciever}}</td>
                    <td> {{i.reciever_phone_number}}</td>
                    <td> {{i.order_id}}</td>
                  </tr>
                </tbody>
            </table>
        {% endfor%}

        {% for i in out_for_delivery2 %}
            <table class="table table-hover table-borderless table-info">
                <thead>
                  <tr>
                    <th scope="col" class="text-white">Out For delivery</th>
                    <th scope="col">Reciever Name</th>
                    <th scope="col">Address of Reciever</th>
                    <th scope="col">Reciever Contact</th>
                    <th scope="col">Order ID</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>#</td>
                    <td>{{i.reciever_name}}</td>
                    <td>{{i.Address_of_reciever}}</td>
                    <td> {{i.reciever_phone_number}}</td>
                    <td> {{i.id}}</td>
                  </tr>
                </tbody>
            </table>
        {% endfor%}
        <div class="col-md-2 col-md-auto p-2 bd-highlight"></div>
    </div>
</div>
  </main>
{% endblock content2 %}
